---
import ButtonMain from "@components/base/ButtonMain.astro";
import ButtonSub from "@components/base/ButtonSub.astro";
---

<!-- class="min-h-screen w-full overflow-hidden bg-muted-100 dark:bg-muted-1000 bg-center bg-cover relative" -->
<div
  class="min-h-screen w-full overflow-hidden bg-muted-100  bg-center bg-cover relative"
>
  <!-- Left to right gradient overlay -->
  <!-- <div class="absolute inset-0 bg-gradient-to-r from-black/40 via-black/70 to-transparent opacity-90 z-10 dark:block hidden"></div> -->
  <div class="absolute inset-0 bg-[linear-gradient(to_right,rgb(0,0,0,0.6),rgb(0,0,0,0.6)_25%,transparent_150%)] opacity-90 hidden dark:block z-10"></div>
  <div
    id="layer1"
    class="absolute inset-0 transition-opacity duration-1000 opacity-0 bg-[url('img/bg1.jpg')] bg-center bg-cover z-0"
  >
  </div>
  <div
    id="layer2"
    class="absolute inset-0 transition-opacity duration-1000 opacity-100 bg-[url('img/bg2.jpg')] bg-center bg-cover z-0"
  >
  </div>

  <div class="min-h-screen w-full max-w-7xl mx-auto flex items-center px-4">
    <div class="w-full z-20">
      <div class="">
        <div
          class="h-full ptablet:max-w-lg ptablet:mx-auto flex items-center mb-8 ltablet:mb-0 lg:mb-0"
        >
          <div
            class="text-center ltablet:text-left lg:text-left font-sans space-y-4"
          >
            <h1
              class="font-medium text-4xl ptablet:text-5xl lg:text-5xl text-muted-800 dark:text-white"
            >
              Empowering Healthcare with the Right Equipment
            </h1>
            <p class="text-lg text-muted-500 dark:text-muted-400">
              Discover the best in medical technology. We provide high-quality,
              reliable equipment for hospitals, clinics, and labs, ensuring
              seamless patient care and operational efficiency.
            </p>
            <div
              class="w-full flex items-center justify-center ltablet:justify-start lg:justify-start gap-2"
            >
              <ButtonSub to={"/catalog"} class="'min-w-[130px]'">
                Explore Our Catalog
              </ButtonSub>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="w-full">
      <!-- <img
        src="./img/illustrations/hero.svg"
        class="block dark:hidden w-full ltablet:max-w-[540px] max-w-[620px] mx-auto col-span-12 ltablet:col-span-7 lg:col-span-7"
        alt="Hero image"
      />
      <img
        src="./img/illustrations/hero-dark.svg"
        class="hidden dark:block w-full ltablet:max-w-[540px] max-w-[620px] mx-auto col-span-12 ltablet:col-span-7 lg:col-span-7"
        alt="Hero image"
      /> -->
    </div>
  </div>
</div>

<script>
  // Hero background images array
  const images = ["img/bg1_resized.webp", "img/bg2_resized.webp", "img/bg3_resized.webp", "img/bg4_resized.webp"];

  let currentIndex = 0;

  // Function to change background image with smooth fade effect
  function changeBackgroundImage() {
    currentIndex = (currentIndex + 1) % images.length;
    const layer1 = document.getElementById("layer1");
    const layer2 = document.getElementById("layer2");

    // Apply the fade-out effect to the current layer (opacity 0)
    if (currentIndex % 2 === 0) {
      // Fade out layer2, and set it to the next image
      layer2.style.transition = "opacity 1s ease-in-out"; // Smooth fade transition
      layer2.style.opacity = "0";
      layer1.style.opacity = "1";
      layer1.style.backgroundImage = `url(${images[currentIndex]})`;
    } else {
      // Fade out layer1, and set it to the next image
      layer1.style.transition = "opacity 1s ease-in-out"; // Smooth fade transition
      layer1.style.opacity = "0";
      layer2.style.opacity = "1";
      layer2.style.backgroundImage = `url(${images[currentIndex]})`;
    }
  }

  // Change the background image every 4 seconds
  setInterval(changeBackgroundImage, 2000);
</script>
